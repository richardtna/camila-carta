<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Para Camila</title>

  <style>
    body{
      margin:0; min-height:100vh; display:flex; justify-content:center; align-items:center;
      background: linear-gradient(180deg, #f7e6b0, #f3d3a0);
      font-family: Georgia, "Times New Roman", serif;
      padding: 24px;
    }
    .card{
      background: rgba(255,255,255,.75);
      width: min(520px, 92vw);
      border-radius: 22px;
      padding: 28px 22px;
      text-align:center;
      box-shadow: 0 18px 50px rgba(0,0,0,.18);
      backdrop-filter: blur(6px);
    }
    h1{ margin: 10px 0 14px; font-size: 34px; font-weight: 600; }
    p{ margin: 12px 0; font-size: 18px; line-height: 1.65; }
    .flowers{ font-size: 22px; margin: 6px 0 14px; }
    .cta{ margin-top: 18px; font-size: 16px; opacity: .9; }
    button{
      margin-top: 12px;
      border:0; padding: 12px 22px;
      border-radius: 999px;
      font-size: 16px;
      background: #157a3b;
      color: white;
      font-weight: 600;
    }
    .hint{ margin-top:10px; font-size: 14px; opacity:.8; }
  </style>
</head>

<body>
  <div class="card">
    <div class="flowers">ðŸŒ¼ðŸŒ¼ðŸŒ¼</div>
    <h1>Querida Camila,</h1>

    <p>Tal vez no esperabas esta sorpresa, pero no quise dejar pasar la oportunidad de sacarte una sonrisa y alegrarte un poquito el dÃ­a.</p>

    <p>Aunque todavÃ­a no podamos vernos, te tengo presente y querÃ­a recordarte que, incluso en los momentos mÃ¡s difÃ­ciles, mereces cosas bonitas.</p>

    <p>OjalÃ¡ este pequeÃ±o detalle te guste y te acompaÃ±e hoy.</p>

    <p><em>Con cariÃ±o,</em><br><em>Richard</em></p>

    <div class="flowers">ðŸŒ¼ðŸŒ¼ðŸŒ¼</div>

    <div class="cta">Puedes escuchar esta canciÃ³n mientras lees esta cartita ðŸ’›</div>
    <button id="playBtn">â–¶ Escuchar</button>
    <div class="hint" id="msg"></div>
  </div>

  <!-- Audio -->
  <audio id="player" preload="auto"></audio>

  <script>
    // âœ… CAMBIA ESTA RUTA SEGÃšN TU CASO:
    // Si el mp3 estÃ¡ junto a index.html:
    const AUDIO_FILE = "./flores-amarillas.mp3";
    // Si tu mp3 estÃ¡ dentro de /site/ y tu pÃ¡gina estÃ¡ en la raÃ­z, usa:
    // const AUDIO_FILE = "./site/flores-amarillas.mp3";

    const player = document.getElementById("player");
    const playBtn = document.getElementById("playBtn");
    const msg = document.getElementById("msg");

    let started = false;

    function setMessage(text){ msg.textContent = text || ""; }

    function startAudioFromGesture(){
      // iPhone: el play() debe ocurrir DIRECTO dentro del gesto (tap)
      if (!player.src) player.src = AUDIO_FILE;

      player.volume = 1.0;

      const p = player.play();
      if (p && typeof p.then === "function") {
        p.then(() => {
          started = true;
          playBtn.textContent = "â¸ Pausar";
          setMessage("");
        }).catch(() => {
          // Si falla, suele ser ruta mala o el sistema bloqueÃ³ el intento
          setMessage("Si no suena, revisa la ruta del MP3 (que exista).");
        });
      }
    }

    playBtn.addEventListener("click", (e) => {
      e.preventDefault();
      if (!started) {
        startAudioFromGesture();
      } else {
        if (player.paused) {
          startAudioFromGesture();
        } else {
          player.pause();
          playBtn.textContent = "â–¶ Escuchar";
        }
      }
    });

    // Bonus: primer toque en cualquier parte intenta arrancar
    document.addEventListener("touchstart", () => {
      if (!started) startAudioFromGesture();
    }, { passive: true });

    document.addEventListener("click", () => {
      if (!started) startAudioFromGesture();
    });
  </script>
</body>
</html>
